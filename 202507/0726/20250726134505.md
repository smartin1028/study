# Python에서 정규식을 사용하여 `<태그>`로 시작하고 `</태그>`로 종료하는 모든 데이터 추출하기

Python에서 정규 표현식(Regular Expression)을 사용하여 특정 HTML/XML 태그로 둘러싸인 내용을 추출하는 방법을 설명드리겠습니다.

## 기본적인 방법

```python
import re

text = """
<div>이것은 div 태그 내용입니다.</div>
<p>이것은 p 태그 내용입니다.</p>
<span>이것은 span 태그 내용입니다.</span>
"""

# 모든 태그와 그 내용을 추출하는 정규식
pattern = r'<([a-zA-Z]+)>([^<]*)<\/\1>'
matches = re.findall(pattern, text)

for tag, content in matches:
    print(f"태그: {tag}, 내용: {content.strip()}")
```

### 출력 결과:
```
태그: div, 내용: 이것은 div 태그 내용입니다.
태그: p, 내용: 이것은 p 태그 내용입니다.
태그: span, 내용: 이것은 span 태그 내용입니다.
```

## 더 복잡한 경우 처리

1. **태그에 속성이 있는 경우**:
```python
text = '<div class="main">내용</div> <p id="intro">소개</p>'
pattern = r'<([a-zA-Z]+)[^>]*>([^<]*)<\/\1>'
matches = re.findall(pattern, text)
```

2. **중첩 태그가 있는 경우** (정규식으로 완벽히 처리하기 어려움 - BeautifulSoup 등 파서 사용 권장):
```python
text = '<div>바깥 내용 <span>안쪽 내용</span></div>'
pattern = r'<([a-zA-Z]+)[^>]*>(.*?)<\/\1>'
matches = re.findall(pattern, text, re.DOTALL)
```

## 주의사항

1. 정규식으로 HTML/XML을 파싱하는 것은 복잡한 구조에서는 한계가 있습니다. 특히:
   - 중첩된 태그
   - 주석 처리된 태그
   - 잘못 형성된 태그
   등의 경우 문제가 발생할 수 있습니다.

2. 복잡한 HTML 문서를 다룰 때는 `BeautifulSoup`이나 `lxml` 같은 전문 파서를 사용하는 것이 더 안정적입니다.

```python
from bs4 import BeautifulSoup

html = """
<div class="main">메인 내용 <span>부가 내용</span></div>
<p>단락 내용</p>
"""

soup = BeautifulSoup(html, 'html.parser')
for tag in soup.find_all(True):  # 모든 태그 찾기
    print(f"태그: {tag.name}, 내용: {tag.get_text(strip=True)}")
```

## 정규식 패턴 설명

- `r'<([a-zA-Z]+)>([^<]*)<\/\1>'` 패턴 분석:
  - `<([a-zA-Z]+)>`: 태그 시작 부분 (예: `<div>`)
    - `([a-zA-Z]+)`: 태그 이름 캡처 (하나 이상의 알파벳)
  - `([^<]*)`: 태그 내용 캡처 (`<` 문자가 나오기 전까지 모든 문자)
  - `<\/\1>`: 종료 태그 (예: `</div>`)
    - `\1`: 첫 번째 캡처 그룹(태그 이름)과 동일한 문자열 매칭

이 정규식 패턴을 필요에 따라 수정하여 다양한 경우에 적용할 수 있습니다.