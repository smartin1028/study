# 윈도우에서 엘라스틱서치(Elasticsearch) 구성하기

엘라스틱서치를 윈도우 환경에서 구성하는 방법을 단계별로 설명드리겠습니다.

## 1. 사전 요구 사항 확인
- Java 8 이상 설치 필요 (OpenJDK 또는 Oracle JDK)
- 최소 4GB RAM 권장
- 관리자 권한 필요

## 2. 엘라스틱서치 다운로드 및 설치

1. [엘라스틱서치 공식 다운로드 페이지](https://www.elastic.co/kr/downloads/elasticsearch) 접속
2. Windows용 ZIP 패키지 다운로드
3. 원하는 위치에 압축 해제 (예: `C:\elasticsearch`)

## 3. 기본 구성 설정

1. `config/elasticsearch.yml` 파일 편집:
```yaml
cluster.name: my-elasticsearch-cluster
node.name: my-node-1
network.host: 0.0.0.0
http.port: 9200
discovery.type: single-node  # 단일 노드 구성 시
```

2. 메모리 설정 조정 (필요시):
- `config/jvm.options` 파일에서 힙 메모리 설정 수정
```
-Xms1g
-Xmx1g
```

## 4. 서비스로 등록 (선택사항)

관리자 권한으로 명령 프롬프트 실행 후:
```cmd
cd C:\elasticsearch\bin
elasticsearch-service.bat install
elasticsearch-service.bat start
```

## 5. 실행 및 테스트

1. 명령 프롬프트에서 수동 실행:
```cmd
cd C:\elasticsearch\bin
elasticsearch.bat
```

2. 정상 동작 확인:
- 브라우저에서 `http://localhost:9200` 접속
- 또는 커맨드라인에서:
```cmd
curl -X GET "localhost:9200"
```

## 6. 보안 설정 (7.x 이상 버전)

1. 기본 인증 설정:
```cmd
bin\elasticsearch-setup-passwords auto
```

2. 키스토어 생성:
```cmd
bin\elasticsearch-keystore create
```

## 7. 플러그인 설치 (필요시)

```cmd
bin\elasticsearch-plugin install analysis-nori  # 한국어 분석기 예시
```

## 8. 문제 해결 팁

- **포트 충돌**: 9200 포트가 사용 중일 경우 `elasticsearch.yml`에서 포트 변경
- **메모리 부족**: `jvm.options`에서 힙 크기 조정
- **접근 권한 문제**: `elasticsearch-service.bat`을 관리자 권한으로 실행
- **로그 확인**: `logs/elasticsearch.log` 파일 검토

## 9. Windows 서비스 관리

- 서비스 시작: `elasticsearch-service.bat start`
- 서비스 중지: `elasticsearch-service.bat stop`
- 서비스 제거: `elasticsearch-service.bat remove`

이제 윈도우 시스템에서 엘라스틱서치가 구성되었습니다. 필요에 따라 추가적인 플러그인 설치나 설정 조정이 가능합니다.